(this["webpackJsonpantd-demo"]=this["webpackJsonpantd-demo"]||[]).push([[2],{135:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(0),r=n.n(a),l=function(e){return function(t){return function(n){return r.a.createElement(e.Consumer,null,(function(e){return r.a.createElement(t,Object.assign({},n,e))}))}}}},188:function(e,t,n){e.exports=n(351)},193:function(e,t,n){},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return E}));var a=n(8),r=n.n(a),l=n(23),o=n(17),c=n(24),i=n(34),u=n(46),s=n(0),m=n.n(s),d=n(61),f=n.n(d),p=n(60),h=m.a.createContext({}),E=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).login=function(){var e=Object(l.a)(r.a.mark((function e(t){var n,l,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post(p.f.login,t);case 3:n=e.sent,l=n.data,o=l.token,c=l.userInfo,localStorage.setItem("user-token",o),a.setState({userInfo:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),"Request failed with status code 401"===e.t0.message&&a.clearSession();case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),a.clearSession=function(){localStorage.removeItem("user-token"),a.setState({userInfo:void 0})},a.getUserToken=function(){return localStorage.getItem("user-token")||""},a.validateLogin=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a.getUserToken()){e.next=7;break}return e.next=4,f.a.get(p.f.verify,a.getAuthHeader());case 4:t=e.sent,n=t.data,a.setState({userInfo:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),"Request failed with status code 401"===e.t0.message&&a.clearSession();case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),a.getAuthHeader=function(){return{headers:{Authorization:"Bearer "+a.getUserToken()}}},a.logOut=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.clearSession()}catch(t){}case 1:case"end":return e.stop()}}),e)}))),a.state={userInfo:void 0},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.validateLogin()}},{key:"render",value:function(){var e=this.props.children,t=this.login,n=this.logOut,a=this.getAuthHeader,r=this.state.userInfo;return m.a.createElement(h.Provider,{value:{login:t,logOut:n,getAuthHeader:a,userInfo:r}},e)}}]),n}(s.Component)},350:function(e,t,n){},351:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(3),o=n.n(l),c=(n(193),n(22)),i=n(17),u=n(24),s=n(34),m=n(46),d=n(357),f=n(356),p=n(355),h=n(91),E=n(68),g=n(135),b=d.a.Header,v=d.a.Content,y=d.a.Footer,k=f.a.SubMenu,O=f.a.Item,A=[{name:"Home",link:"/"},{name:"Alternaors",link:"/alternators"},{name:"Login",link:"/login",hidden:!0},{name:"Profile",link:"/profile",requireLogin:!0,subMenu:"renderProfileMenu"}],_=[{name:"Reset Password",link:"/password/reset"},{name:"Admin Panel",link:"/admin"},{name:"Logout",link:"/logout"}],j=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).onMenuItemClick=function(t){var n=t.key;(console.log("::::key",n),"/logout"===n)?(0,e.props.logOut)():e.props.history.push(n)},e.renderProfileMenu=function(){var t=e.props.userInfo;if(t){var n=t.name;return r.a.createElement(k,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:{backgroundColor:"#7265e6",verticalAlign:"middle"},size:"large"},n.charAt(0)))},r.a.createElement(O,{disabled:!0},"Hi ".concat(n)),_.map((function(e){return r.a.createElement(E.b,Object.assign({key:e.link},e),r.a.createElement(O,null,e.name))})))}return r.a.createElement(r.a.Fragment,null)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.location;return r.a.createElement(d.a,null,r.a.createElement(b,{style:{position:"fixed",zIndex:3,width:"100%"}},r.a.createElement("div",{className:"logo"}),r.a.createElement(f.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:[a.pathname],onClick:this.onMenuItemClick},A.map((function(t){return r.a.createElement(E.b,Object.assign({key:t.link},t),t.subMenu?e[t.subMenu]():r.a.createElement(O,null,t.name))})))),r.a.createElement(v,{className:"site-layout",style:{padding:"0 50px",marginTop:64}},r.a.createElement("div",{className:"site-layout-background",style:{padding:24}},n)),r.a.createElement(E.b,{hidden:!0},r.a.createElement(E.a,null)),r.a.createElement(y,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))}}]),n}(r.a.Component),C=Object(h.e)(Object(g.a)(c.a)(j)),P=(n(350),n(18)),S=Object(h.e)((function(e){var t=e.component,n=e.location,a=Object(P.a)(e,["component","location"]);return r.a.createElement(c.a.Consumer,null,(function(e){var l=e.userInfo;return r.a.createElement(r.a.Fragment,null,l?r.a.createElement(h.b,Object.assign({},a,{component:t})):r.a.createElement(h.a,{to:{pathname:"/login",state:{from:n.pathname}}}))}))})),w=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,466))})),I=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(6),n.e(13)]).then(n.bind(null,467))})),R=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,468))})),x=Object(a.lazy)((function(){return Promise.all([n.e(5),n.e(10)]).then(n.bind(null,464))})),T=Object(a.lazy)((function(){return Promise.all([n.e(7),n.e(11)]).then(n.bind(null,465))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(15)]).then(n.bind(null,469))})),D=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8),n.e(12)]).then(n.bind(null,470))})),U=function(){return r.a.createElement("p",null,"Loading")},q=function(){return r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(a.Suspense,{fallback:U()},r.a.createElement(I,e))}}),r.a.createElement(h.b,{exact:!0,path:"/login",render:function(e){return r.a.createElement(a.Suspense,{fallback:U()},r.a.createElement(w,e))}}),r.a.createElement(h.b,{exact:!0,path:"/alternators",render:function(e){return r.a.createElement(a.Suspense,{fallback:U()},r.a.createElement(R,e))}}),r.a.createElement(h.b,{path:"/alternator/:id",render:function(e){return r.a.createElement(a.Suspense,{fallback:U()},r.a.createElement(D,e))}}),r.a.createElement(S,{exact:!0,path:"/alternators/add",render:function(e){return r.a.createElement(a.Suspense,{fallback:U()},r.a.createElement(x,e))}}),r.a.createElement(S,{exact:!0,path:"/admin",render:function(e){return r.a.createElement(a.Suspense,{fallback:U()},r.a.createElement(T,e))}}),r.a.createElement(S,{exact:!0,path:"/password/reset",render:function(e){return r.a.createElement(a.Suspense,{fallback:U()},r.a.createElement(L,e))}}),r.a.createElement(h.a,{to:"/"}))},z=function(){return r.a.createElement(c.b,null,r.a.createElement(C,null,r.a.createElement(q,null)))},N=n(28);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=Object(N.a)();o.a.render(r.a.createElement(h.c,{history:F},console.log(":Dadad"),r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},60:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return u}));var a=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_CLOUDINARY_URL:"https://api.cloudinary.com/v1_1/mhtdang/image",REACT_APP_SERVICE_URL:"http://localhost:3000",REACT_APP_CLOUDINARY_UPLOAD_PRESET:"kgawb0zn"}),r=Object.freeze({url:"".concat("production"===a.NODE_ENV?window.location.origin:a.REACT_APP_SERVICE_URL,"/api/"),cloudinaryUrl:a.REACT_APP_CLOUDINARY_URL,cloudinaryuploadPreset:a.REACT_APP_CLOUDINARY_UPLOAD_PRESET}),l=["https://res.cloudinary.com/mhtdang/image/upload/v1587655768/grover/ALT_START3_lnkt6a.jpg","https://res.cloudinary.com/mhtdang/image/upload/v1587655768/grover/ALT_MID32_owefp2.jpg","https://res.cloudinary.com/mhtdang/image/upload/v1587655767/grover/ALT_FIN33_xgx10s.jpg"],o={login:"".concat(r.url,"user/login"),verify:"".concat(r.url,"user/verify"),create:"".concat(r.url,"user/create"),resetPassword:"".concat(r.url,"user/reset"),list:"".concat(r.url,"user/list"),delete:"".concat(r.url,"user")},c={get:"".concat(r.url,"alternator"),list:"".concat(r.url,"alternator/list"),add:"".concat(r.url,"alternator/add"),update:"".concat(r.url,"alternator/update/"),delete:"".concat(r.url,"alternator/")},i={list:"".concat(r.url,"notification/list"),add:"".concat(r.url,"notification/create"),update:"".concat(r.url,"notification/update/"),delete:"".concat(r.url,"notification/")},u="https://res.cloudinary.com/mhtdang/image/upload/v1587655767/grover/Alternator_Cut_Away_EDIT_lr2_pdmw2k.jpg"},68:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return P}));var a=n(18),r=n(0),l=n.n(r),o=n(22),c=function(e){e.name,e.link;var t=e.requireLogin,n=void 0!==t&&t,r=e.requireAdmin,c=void 0!==r&&r,i=e.hidden,u=void 0!==i&&i,s=e.children,m=Object(a.a)(e,["name","link","requireLogin","requireAdmin","hidden","children"]);return l.a.createElement(o.a.Consumer,null,(function(e){var t=e.userInfo,a=l.a.Children.map(s,(function(e){return l.a.cloneElement(e,m)}));return t?u||c&&!t.isAdmin?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,a):n||c?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,a)}))},i=n(8),u=n.n(i),s=n(23),m=n(17),d=n(24),f=n(34),p=n(46),h=n(361),E=n(137),g=n(359),b=n(358),v=n(353),y=n(354),k=n(360),O=n(120),A=n(61),_=n.n(A),j=n(362),C=n(60),P=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).showDrawer=function(){a.setState({visible:!0})},a.onClose=function(e){a.setState({visible:!1})},a.onSubmit=function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post(C.e.add,t);case 2:n=e.sent,console.log("res",n),a.formRef.current.resetFields(),a.onClose();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={visible:!1},a.formRef=l.a.createRef(),a}return Object(d.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(h.a,{style:{position:"fixed",bottom:"30px",right:"20px"}},l.a.createElement(E.a,{title:"Have some Query?",placement:"left"},l.a.createElement(j.a,{style:{fontSize:"50px"},onClick:this.showDrawer}))),l.a.createElement(g.a,{title:"Send us your query",width:"25%",onClose:this.onClose,visible:this.state.visible,bodyStyle:{paddingBottom:80}},l.a.createElement(b.a,{layout:"vertical",hideRequiredMark:!0,onFinish:this.onSubmit,ref:this.formRef},l.a.createElement(v.a,{gutter:16},l.a.createElement(y.a,{span:24},l.a.createElement(b.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter user name"}]},l.a.createElement(k.a,{placeholder:"Please enter user name"}))),l.a.createElement(y.a,{span:24},l.a.createElement(b.a.Item,{name:"from",label:"Email",rules:[{required:!0,type:"email",message:"Please enter user email"}]},l.a.createElement(k.a,{placeholder:"Please enter user name"})))),l.a.createElement(v.a,{gutter:16},l.a.createElement(y.a,{span:24},l.a.createElement(b.a.Item,{name:"query",label:"Description",rules:[{required:!0,message:"please enter your query"}]},l.a.createElement(k.a.TextArea,{rows:4,placeholder:"Please enter your query"})))),l.a.createElement(v.a,{gutter:16},l.a.createElement(y.a,{span:24},l.a.createElement(O.a,{onClick:this.onClose,htmlType:"reset",style:{marginRight:8}},"Cancel"),l.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit"))))))}}]),n}(l.a.Component)}},[[188,3,4]]]);
//# sourceMappingURL=main.e3946980.chunk.js.map